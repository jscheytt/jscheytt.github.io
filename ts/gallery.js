var g=r=>{let s=document.createElement("div");s.className="gallery";let o=r[0].parentNode,t=r[0];o.insertBefore(s,t);for(let e of r)s.appendChild(e)},f=r=>{let s=r.querySelectorAll("img.gallery-image");for(let e of Array.from(s)){let l=e.closest("p");if(!l||!r.contains(l)||(l.textContent.trim()==""&&l.classList.add("no-text"),!l.classList.contains("no-text")))continue;let c=e.parentElement.tagName=="A",a=e,n=document.createElement("figure");if(n.classList.add("gallery-image"),n.style.setProperty("flex-grow",e.getAttribute("data-flex-grow")||"1"),n.style.setProperty("flex-basis",e.getAttribute("data-flex-basis")||"0"),c)a=e.parentElement,a.classList.add("image-link"),a.setAttribute("data-pswp-width",e.getAttribute("width")),a.setAttribute("data-pswp-height",e.getAttribute("height"));else{let i=document.createElement("a");i.href=e.src,i.setAttribute("class","image-link"),i.setAttribute("target","_blank"),i.setAttribute("data-pswp-width",e.getAttribute("width")),i.setAttribute("data-pswp-height",e.getAttribute("height")),e.parentNode.insertBefore(i,e),i.appendChild(e),a=i}if(a.parentElement.insertBefore(n,a),n.appendChild(a),e.hasAttribute("alt")){let i=document.createElement("figcaption");i.innerText=e.getAttribute("alt"),n.appendChild(i)}}let o=r.querySelectorAll("figure.gallery-image"),t=[];for(let e of Array.from(o))t.length?e.previousElementSibling===t[t.length-1]?t.push(e):t.length&&(g(t),t=[e]):t=[e];t.length>0&&g(t)};export{f as default};
