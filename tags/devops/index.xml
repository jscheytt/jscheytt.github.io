<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Devops on Josia's Blog</title><link>https://jscheytt.github.io/tags/devops/</link><description>Recent content in Devops on Josia's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Josia Scheytt</copyright><lastBuildDate>Wed, 01 May 2024 10:26:25 +0200</lastBuildDate><atom:link href="https://jscheytt.github.io/tags/devops/index.xml" rel="self" type="application/rss+xml"/><item><title>Our GitOps book is available</title><link>https://jscheytt.github.io/p/our-gitops-book-is-available/</link><pubDate>Wed, 01 May 2024 10:26:25 +0200</pubDate><guid>https://jscheytt.github.io/p/our-gitops-book-is-available/</guid><description>&lt;p>We did it:
Our &lt;a class="link" href="https://gitops-book.dev/" target="_blank" rel="noopener"
>full-length book about GitOps in German&lt;/a> is now finally out!
You can order it anywhere in book stores both physical and online.&lt;/p>
&lt;p>In fall 2023, Baris, Johannes, and me started writing this book with a vision for enabling German-speaking software teams to use GitOps so they can ship changes faster and with more confidence.
It is both the first book about GitOps in German, and from our research it seems like it is also by far the longest book &lt;em>in any language&lt;/em> about GitOps (about 350 pages).&lt;/p>
&lt;p>Are we going to translate it to English?
We sure are interested in doing so but we are still discussing how to do it in a consistent and cost-effective way.&lt;/p></description></item><item><title>Documentation as Scaled Communication</title><link>https://jscheytt.github.io/p/documentation-as-scaled-communication/</link><pubDate>Tue, 24 Oct 2023 08:21:20 +0200</pubDate><guid>https://jscheytt.github.io/p/documentation-as-scaled-communication/</guid><description>&lt;p>Technical documentation is important, but almost no one enjoys writing it.
At least, I have yet to meet anyone who shares my passion for writing docs.
To me, documentation is not just a chore you do to check a compliance box.
In fact, I believe it can even be a rewarding experience.&lt;/p>
&lt;p>I am also convinced that writing documentation is a &lt;em>core skill for Platform Engineers&lt;/em> running any &lt;a class="link" href="https://internaldeveloperplatform.org" target="_blank" rel="noopener"
>Internal Developer Platforms&lt;/a>.
Developer Platforms need a product mindset, and products need documentation so that users can understand usage and discover features.
And I believe that &lt;strong>technical documentation is a means to scale up your communication&lt;/strong>, especially in the platform context.&lt;/p>
&lt;p>Let me explain with an example:
If someone pings me directly and asks about a specific technical problem in using the platform (e.g. &amp;ldquo;How do I restart my application in staging?&amp;rdquo;), I could respond via a video call (most expensive option, but sometimes necessary) or by giving them the necessary steps directly.
As an alternative, I could also take a few extra minutes to write a documentation article (e.g. a runbook) about it and send the person a link to the article.
The next time someone asks about this specific problem, I can &lt;em>save a lot of time&lt;/em> by not writing out the steps in all detail again.
Instead, I can get into the habit of responding to common questions with links to documentation.&lt;/p>
&lt;p>This can not only reduce the time &lt;em>you alone&lt;/em> spend handling requests:
If your documentation platform has a good search functionality, you may eventually be able to &lt;em>teach people to search through the docs&lt;/em> before making requests, saving time for both Platform Engineers and Developers.
If your documentation tools are configured as openly as possible for contributions, you might even get people to &lt;em>actively participate&lt;/em> in improving your articles, perhaps even writing new ones themselves.&lt;/p>
&lt;p>I have witnessed some of these effects firsthand.
Let me name this observation &lt;strong>Documentation as Scaled Communication&lt;/strong> (or DASC, if you feel like using acronyms).
I am sure that this principle applies very broadly, but I want to keep the focus of this post on &lt;em>technical documentation&lt;/em> and on &lt;em>Platform Engineers&lt;/em> because that is my primary background.&lt;/p>
&lt;h2 id="challenges">Challenges
&lt;/h2>&lt;p>So why is writing docs so &lt;em>hard&lt;/em>?
From my point of view, we have several challenges to address:&lt;/p>
&lt;ol>
&lt;li>We need to learn &lt;strong>communication&lt;/strong> through practice, review, and feedback.&lt;/li>
&lt;li>We also need to learn &lt;strong>writing&lt;/strong> (again, through practice, review, and feedback).&lt;/li>
&lt;li>Documentation tools need &lt;strong>extremely low friction&lt;/strong> (i.e. very good UX).&lt;/li>
&lt;li>Tools need to be &lt;strong>configured as wide open&lt;/strong> as possible for contributions.&lt;/li>
&lt;/ol>
&lt;h3 id="practicing-communication">Practicing Communication
&lt;/h3>&lt;p>How can you communicate effectively?
Effectiveness is always determined by the goals of your communication.
Let&amp;rsquo;s say we have the following goals for platform engineering:&lt;/p>
&lt;ul>
&lt;li>Enable developers to be highly productive&lt;/li>
&lt;li>Enable development teams to deploy to production quickly and with confidence&lt;/li>
&lt;/ul>
&lt;p>These goals put us in a position where &lt;strong>empathy&lt;/strong> plays a critical role.
I am not talking specifically about &lt;em>technical means&lt;/em> like surveys or specific SLOs.
What I am talking about is a certain &lt;em>attitude&lt;/em> towards the consumers of our services.&lt;/p>
&lt;p>Raw data and measurements are helpful, and they can certainly guide us as we try to learn from incidents or understand certain usage patterns.
But numbers have their limits, and the people who use our services are not distant technical entities, but &lt;em>blood and flesh humans struggling to deploy features and fix bugs&lt;/em>.
Learning to empathize with our users can include the following:&lt;/p>
&lt;ul>
&lt;li>Sit down with a user (maybe even in person, if possible) and ask for feedback on how they use the platform.
&lt;ul>
&lt;li>&lt;strong>Asking proactively&lt;/strong> is radically different from waiting for bug tickets and incident reports.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Listen actively:
&lt;ul>
&lt;li>First, listen (you may even want to take notes).
Then keep asking questions to find out what the user is &lt;em>really&lt;/em> trying to accomplish.&lt;/li>
&lt;li>Your primary focus should not be to get fodder for your bug tracker.
(Take notes, though, if something comes up that you did not know about.)
Instead, **focus on understanding the user&amp;rsquo;s overall interaction with your services:&lt;/li>
&lt;li>How do they develop and generally work as a team?
What is their workflow like?
Where are they least productive?
Are they using tools outside your platform that could or should be integrated?&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Don&amp;rsquo;t insist on your preferences&lt;/strong>.
The platform is not there for its own sake, but to enable the developers.
&lt;ul>
&lt;li>This is most evident when I answer complaints with &amp;ldquo;But that&amp;rsquo;s not how the system is supposed to be used! Did you even read xyz?&amp;rdquo;&lt;/li>
&lt;li>I struggle with this point a lot.
When you build a platform, you design for certain usage patterns.
But you can never anticipate how those needs might change in the future.
And if those needs change drastically, you may have to refactor your platform to a greater extent (which will cause you a lot of work).&lt;/li>
&lt;li>I&amp;rsquo;m not advocating blindly following every user suggestion &amp;mdash; your product owner will have to prioritize things anyway.
I am also not discouraging helping people understand how to use the existing platform effectively.
My point is:
If you scold people for trying to get things done, you will discourage them.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>There are a few more resources I recommend for learning to communicate effectively as a Platform Engineer:&lt;/p>
&lt;ul>
&lt;li>Watch this talk about &amp;ldquo;&lt;a class="link" href="https://www.infoq.com/presentations/incidents-investigation" target="_blank" rel="noopener"
>How did it make sense at the time?&lt;/a>&amp;rdquo; (HDIMSATT).
It is focused on incidents but the same reasoning is helpful for learning empathy with your users.&lt;/li>
&lt;li>&lt;em>&lt;a class="link" href="https://sre.google/sre-book/operational-overload" target="_blank" rel="noopener"
>SRE Embedding&lt;/a>&lt;/em>:
Sometimes, you can take empathy to a more extreme level by embedding a Platform Engineer into an app dev team for a period of time.
You as a Platform Engineer will put on your SRE hat and work alongside the developer team in their everyday challenges.&lt;/li>
&lt;li>Read about and learn from some of the great models of empathy, such as Jesus of Nazareth (e.g. in the first four books of the New Testament), the God who became human (this allowed Him to empathize more with us, but also us to empathize more with Him).&lt;/li>
&lt;/ul>
&lt;h3 id="practicing-writing">Practicing Writing
&lt;/h3>&lt;p>Everyone at work communicates all the time.
Working remotely has forced us to do so in more written form than ever before &amp;mdash; and I think this is a good thing overall!
Sure, it&amp;rsquo;s faster to work together in the office, where it&amp;rsquo;s super easy to quickly ask questions and show things, but asynchronous written communication is much more inclusive and promotes transparency.&lt;/p>
&lt;p>There are many ways to improve your written communication (e.g. &lt;a class="link" href="https://nohello.net" target="_blank" rel="noopener"
>don&amp;rsquo;t make people wait&lt;/a>).
Your written communication will always be better the more you &lt;em>empathize&lt;/em> with the other person(s) (see previous point).
Still, you can practice the following skills to improve your writing in chats:&lt;/p>
&lt;ol>
&lt;li>Write &lt;strong>complete sentences&lt;/strong> by default.&lt;/li>
&lt;li>Adhere to &lt;strong>basic grammar and syntax&lt;/strong> (just as you would when writing code).
&lt;ul>
&lt;li>You can use AI assistance for this like &lt;a class="link" href="https://www.deepl.com/de/write" target="_blank" rel="noopener"
>DeepL Write&lt;/a>.
(Hint: I refined this blog post using DeepL Write.)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Write &lt;strong>short and clear sentences&lt;/strong>.
&lt;ul>
&lt;li>If your message gets longer, use bullets and headings to break your message into more readable chunks.&lt;/li>
&lt;li>Familiarize yourself with the &lt;strong>formatting options&lt;/strong> your chat tool offers.
Some tools allow Markdown, for example.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;em>In group chats&lt;/em> (i.e. when communicating with several people at once):
&lt;ol>
&lt;li>Avoid using &lt;strong>literal backreferences&lt;/strong> (&amp;ldquo;this thing&amp;rdquo;, &amp;ldquo;that&amp;rdquo;).
Use the &amp;ldquo;reply to&amp;rdquo; feature (or better yet, if available, start a &lt;strong>thread&lt;/strong>) to maintain/restore context.&lt;/li>
&lt;li>Use @-&lt;strong>mentions&lt;/strong> to notify a subset of people in the current chat, if your message does not address everyone.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>In the spirit of SRE and &lt;a class="link" href="https://www.learningfromincidents.io" target="_blank" rel="noopener"
>Learning From Incidents&lt;/a>, we can also look back at past communications and learn from them.
Feel free to try these steps as an example:&lt;/p>
&lt;ol>
&lt;li>Search through your chat history, especially group chats where there are a lot of people and a lot of communication.&lt;/li>
&lt;li>Try to find situations where misunderstandings occurred.
Pick a situation and think about the following questions:
&lt;ol>
&lt;li>What were the basic assumptions that the different people involved had?&lt;/li>
&lt;li>To what extent were the different mental models of these people wrong? Why?&lt;/li>
&lt;li>How could the mismatch between mental model and reality have been uncovered earlier?&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="low-friction-editing">Low-Friction Editing
&lt;/h3>&lt;p>Now we turn briefly to the tool side of things:
If you do not make editing pages and creating documents &lt;em>as fast and convenient as possible&lt;/em>, you will frustrate people and lose potential editors.
Those editors could be people on the platform team &lt;em>and&lt;/em> on the development teams!&lt;/p>
&lt;p>I see this as a very limiting factor when trying to choose a documentation tool.
One category of documentation tools I have specifically avoided &lt;em>for internal development platforms&lt;/em> are &lt;em>Static Site Generators (SSGs) fed from a Git repo&lt;/em>.&lt;/p>
&lt;p>Let me be clear about this:
I am a huge fan of Git!
&lt;a class="link" href="https://www.linkedin.com/feed/update/urn:li:activity:7120420743795892225" target="_blank" rel="noopener"
>My writing a book about GitOps&lt;/a> should leave no doubt about that.
But even if you have a template where editing any single page is just a click away &lt;em>and&lt;/em> you link directly to a web IDE &lt;em>and&lt;/em> you can enable automerge on the instantly created feature branch, you still have to wait for a green build to pass.
(Allowing commits directly to the default branch would be careless, because it might break the build &amp;mdash; and you will never get around waiting for the build pipeline on the default branch anyway).
And that wait is (I think) still way too long, and makes the barrier to contributing way too high.&lt;/p>
&lt;p>My current preference is Confluence Cloud (Cloud, not self-hosted!), but my experience is very limited.
Please send suggestions!&lt;/p>
&lt;h3 id="a-culture-of-contributing">A Culture of Contributing
&lt;/h3>&lt;p>Whenever I see organizations talking about &lt;em>approval processes in documentation tools&lt;/em>, I get sad.
Because sure enough, they will get exactly what they asked for:
Documentation that is picture perfect and set in stone &amp;mdash; it cannot be changed unless you explicitly ask for permission.
But at the same time they &lt;strong>lose everything that makes documentation valuable&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Documentation becomes &lt;strong>outdated&lt;/strong> extremly quickly because you cannot live a &lt;em>Culture of Contributing&lt;/em>.&lt;/li>
&lt;li>&lt;strong>RBAC&lt;/strong> becomes difficult, and those who maintain it may not always be available.
This will make even users who have permission to edit and manage certain parts of the content to feel reluctant to write shareable documentation instead of directly responding to requests.&lt;/li>
&lt;li>People will &lt;strong>always make direct requests&lt;/strong> because they can get a faster response.
&lt;ul>
&lt;li>They may &lt;em>not always&lt;/em> get it faster because everyone is busy, but by texting a human you at least have a small chance that someone will respond faster than you will find something in the potentially outdated docs.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>When documentation becomes outdated and permissions are complex to obtain, you end up with &lt;em>shadow documentation&lt;/em> (e.g. in Word documents on shared drives) or (by default and by far the worst) &lt;em>no documentation at all&lt;/em> happens and &lt;strong>valuable knowledge is lost&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>I have never seen an organization suffer from vandalism or other malicious overuse of documentation tools.
The only organizations I have encountered are those with typical people who are just trying to do their jobs well and are naturally reluctant to write anything down unless they are forced to.&lt;/p>
&lt;p>For this reason, I believe that &lt;strong>documentation tools should be configured with maximum editability&lt;/strong> to encourage a Culture of Contributing.
You may want to disable deletion and only allow archiving to protect content from disappearing accidentally, but otherwise everything should be as &lt;em>welcoming&lt;/em> towards contributions as possible!
Choose a tool that allows versioning / page history so that you can revert to a known good state if any unwanted changes are made.&lt;/p>
&lt;h2 id="documentation-devices-for-platform-engineers">Documentation Devices for Platform Engineers
&lt;/h2>&lt;p>I have identified a few types of technical documentation that, in my experience, are particularly valuable in the context of Platform Engineering:&lt;/p>
&lt;ol>
&lt;li>Runbooks
&lt;ul>
&lt;li>By giving step-by-step instructions you enable people to perform certain typical actions themselves.
For an example of a very simple runbook, see the list at the end of &lt;a class="link" href="#practicing-writing" >Practicing Writing&lt;/a>.&lt;/li>
&lt;li>If the amount of code snippets in a runbook gets too large, you might consider writing a script, putting it into a Git repo and creating an automated runbook that can be triggered by any user through a manual pipeline.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="https://adr.github.io" target="_blank" rel="noopener"
>Architectural Decision Records&lt;/a> (ADRs)
&lt;ul>
&lt;li>This is in the spirit of HDIMSATT (see &lt;a class="link" href="#practicing-communication" >Practicing Communication&lt;/a>) and allows you to foster collaboration and structured discussion around important technical decisions.&lt;/li>
&lt;li>It allows you to better understand the assumptions and constraints that were in place at the time.
When you return later, you can re-evaluate whether those assumptions still hold true and revisit the decision in light of new constraints.
(Remember to create another ADR for the new decision you take.)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="https://app.diagrams.net" target="_blank" rel="noopener"
>draw.io&lt;/a> or &lt;a class="link" href="https://mermaid.js.org" target="_blank" rel="noopener"
>Mermaid&lt;/a> for diagrams
&lt;ul>
&lt;li>Many documentation tools come with integrations for these.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>In addition, there are also overarching documentation frameworks such as &lt;a class="link" href="https://arc42.org/overview" target="_blank" rel="noopener"
>arc42&lt;/a>.
At &lt;a class="link" href="https://www.mimacom.com" target="_blank" rel="noopener"
>Mimacom&lt;/a>, we have used arc42 in several projects and found the structure very helpful.
To keep the momentum though, don&amp;rsquo;t think too much about which section a single page belongs to; you can always restructure later after writing your current piece of content.
Fortunately, there are &lt;a class="link" href="https://arc42.org/download" target="_blank" rel="noopener"
>downloads available&lt;/a> for Asciidoc, Markdown, LaTeX, and a few other formats.&lt;/p></description></item><item><title>I Install Washing Machines (My Latest Job Metaphor)</title><link>https://jscheytt.github.io/p/i-install-washing-machines-my-latest-job-metaphor/</link><pubDate>Tue, 04 Oct 2022 14:30:29 +0100</pubDate><guid>https://jscheytt.github.io/p/i-install-washing-machines-my-latest-job-metaphor/</guid><description>&lt;h2 id="so-what-exactly-do-you-do-for-a-living">So What Exactly Do You Do For A Living?
&lt;/h2>&lt;p>Whenever we meet new people (or good friends, it sometimes doesn&amp;rsquo;t make a big difference 😄), the above question will come up.
My wife (who is a doctor and has understably fewer problems explaining her job) is always excited to get yet another chance to &amp;ldquo;finally understand&amp;rdquo; what it is that I am doing at work as a &lt;strong>Cloud Automation Engineer&lt;/strong>.&lt;/p>
&lt;p>That is the fancy title we at &lt;a class="link" href="https://flowable.wd3.myworkdayjobs.com/de-DE/mimacom/details/Cloud-Automation-Engineer--m-f-d-_JR100074?q=cloud%20automation%20engineer" target="_blank" rel="noopener"
>mimacom&lt;/a> give to people working in &lt;em>Site Reliability Engineering&lt;/em> and &lt;em>DevOps Engineering&lt;/em>, and I have grown to really like it because it starts to convey a lot of meaning right away.
Unfortunately, it&amp;rsquo;s also long and not particularly established (yet).&lt;/p>
&lt;p>In this blog post I will explore one analogy that came to my mind recently.
I have not tried it out in the wild yet, but I am fascinated by the similarities between deploying washing machines and deploying web applications.&lt;/p>
&lt;h2 id="my-latest-metaphor">My Latest Metaphor
&lt;/h2>&lt;p>Let&amp;rsquo;s say I work in a company that builds, delivers, and maintains washing machines for laundromats.
The colleagues in my team whom I work most closely with design new washing machine models.
You could say they design or &amp;ldquo;develop&amp;rdquo; the washing machines.&lt;/p>
&lt;p>They do this very frequently — even so frequently, that they tweak the current model mostly on a daily basis.
Whenever they change the model, we want to bring these improvements to our customers as quickly as possible.&lt;/p>
&lt;p>And here begins my responsibility as Laundry Automation Engineer™️.&lt;/p>
&lt;h3 id="delivering-new-washing-machines">Delivering New Washing Machines
&lt;/h3>&lt;p>There are several steps that now need to happen in succession until the new model lands at our customers (the laundromats).
We also call this a &lt;strong>pipeline&lt;/strong>:&lt;/p>
&lt;ol>
&lt;li>The designers/developers wrote some simulations to check if the models they produce really work as they should.
I run these simulations on a computer.&lt;/li>
&lt;li>I send the model to the factory to let some construction robots assemble it.&lt;/li>
&lt;li>I take the assembled model, plug it into current and water and run some standard washing programs and test for potential leaks and similar problems.&lt;/li>
&lt;li>I package up the assembled model (together with its necessary accessories) and put it into a van.&lt;/li>
&lt;li>And finally, I drive the new washing machine to the customer, connect the new washing machine, disconnect the old one and dispose of it.&lt;/li>
&lt;/ol>
&lt;p>But a good Laundry Automation Engineer™️ will normally not do any of these steps above themselves.
Instead, he or she will build robots to do it for them.
Robots are a lot more reliable, faster, and cheaper when it comes to repetitive tasks.&lt;/p>
&lt;p>So, in short:
&lt;strong>I build robots that automate all the above steps.&lt;/strong>&lt;/p>
&lt;p>And if there is an error during any of the above steps, the pipeline for the current model change will stop (so we don&amp;rsquo;t deliver broken machines).
I will then look what caused the error and fix it.&lt;/p>
&lt;p>Let&amp;rsquo;s zoom in on a few details around the last step when the robots install the new machines:&lt;/p>
&lt;h3 id="zero-downtime">Zero-Downtime
&lt;/h3>&lt;p>Our laundromats are very highly frequented, basically around the clock, even on weekends.
People come and go all the time.
They put their clothes into a machine, select a program, pay with coins or by card, set it off running, and return when their laundry is supposed to be ready.&lt;/p>
&lt;p>For simplicity, I will now switch back to me as the one doing the actual work (instead of the robots).
Whenever I install a new washing machine to replace a currently running one, I have to be very careful:
The people running the laundromat want to have as few interruptions as possible so that people can start washing programs all the time.
They know that if they have to many interruptions, potential customers will get annoyed because a queue will form, and if they have to wait for too long they will go elsewhere.&lt;/p>
&lt;p>So normally, I will install the new washing machine first (connect to current and water), mark the old machine as &amp;ldquo;stale&amp;rdquo; (so customers can only get their laundry from it but not start any new programs), then disconnect the old one.
This does introduce a little bit of energy and water overhead for the laundromat, but they happily pay that price.
And good for me that in reality I have robots managing all this for me.&lt;/p>
&lt;h2 id="behind-the-scenes-a-glossary">Behind The Scenes: A Glossary
&lt;/h2>&lt;dl>
&lt;dt>Washing Machine:&lt;/dt>
&lt;dd>A web application that communicates over HTTP.
It receives requests (dirty laundry and some program parameters) and delivers responses (clean laundry in the happy path).&lt;/dd>
&lt;dt>Laundromat:&lt;/dt>
&lt;dd>A company that makes most of its business value through running web applications and processing data in a value-adding way.&lt;/dd>
&lt;dt>Designer/Developer:&lt;/dt>
&lt;dd>An application developer writing code in a programming language.&lt;/dd>
&lt;dt>Bringing Improvements To The Customer Asap:&lt;/dt>
&lt;dd>We call this Continuous Delivery or Continuous Deployment.&lt;/dd>
&lt;dt>Laundry Automation Engineer:&lt;/dt>
&lt;dd>Just made this up. This would be the Cloud Automation Engineer / DevOps Engineer.&lt;/dd>
&lt;dt>Pipeline:&lt;/dt>
&lt;dd>The above example describes a Continuous Integration pipeline that also deploys at the end.&lt;/dd>
&lt;dt>Pipeline Step 1:&lt;/dt>
&lt;dd>This step could map to linting, unit testing, and static code analysis.&lt;/dd>
&lt;dt>Pipeline Step 2:&lt;/dt>
&lt;dd>This is a &amp;ldquo;build&amp;rdquo; or &amp;ldquo;compile&amp;rdquo; step.&lt;/dd>
&lt;dt>Pipeline Step 3:&lt;/dt>
&lt;dd>This step could map to integration testing, end-to-end-testing, fuzzying, and security testing of sorts.&lt;/dd>
&lt;dt>Pipeline Step 4:&lt;/dt>
&lt;dd>This is a &amp;ldquo;container image build&amp;rdquo; step.&lt;/dd>
&lt;dt>Pipeline Step 5:&lt;/dt>
&lt;dd>This is a &amp;ldquo;deploy&amp;rdquo; or &amp;ldquo;release&amp;rdquo; step.&lt;/dd>
&lt;dt>Robot:&lt;/dt>
&lt;dd>A script with prescribed steps which is executed automatically whenever a new change is published.&lt;/dd>
&lt;dt>Zero-Downtime:&lt;/dt>
&lt;dd>This is just a rough description of how I understand the default &lt;code>Deployment.spec.strategy.type=RollingUpdate&lt;/code>.
I think it&amp;rsquo;s not perfect but still fits good because in both situations you have the (somewhat conflicting) unbroken, continuous streams of requests/people and electricity.&lt;/dd>
&lt;/dl></description></item><item><title>You can Gitopsify your Ansible</title><link>https://jscheytt.github.io/p/you-can-gitopsify-your-ansible/</link><pubDate>Tue, 01 Mar 2022 08:34:20 +0100</pubDate><guid>https://jscheytt.github.io/p/you-can-gitopsify-your-ansible/</guid><description>&lt;p>I have a &lt;a class="link" href="https://github.com/jscheytt/dotfiles" target="_blank" rel="noopener"
>dotfiles repository&lt;/a> for setting up my MacOS machine easily and reproducibly.
For this I am mostly using Ansible, just slightly wrapping it with Make and seasoning it with a pinch of Shell.&lt;/p>
&lt;p>The core piece of this repository is a &lt;code>Brewfile&lt;/code> and a collection of &lt;a class="link" href="https://github.com/jscheytt/dotfiles/blob/main/files/dotfiles/.oh-my-zsh/custom/aliases.zsh" target="_blank" rel="noopener"
>Shell aliases&lt;/a> and &lt;a class="link" href="https://github.com/jscheytt/dotfiles/blob/main/files/dotfiles/.oh-my-zsh/custom/functions.sh" target="_blank" rel="noopener"
>functions&lt;/a>.
I don&amp;rsquo;t regularly run the Ansible playbook itself because I created it for initially setting up a machine.
The only thing I run very frequently is the &lt;a class="link" href="https://github.com/jscheytt/dotfiles/blob/main/files/dotfiles/.oh-my-zsh/custom/functions.sh#L107" target="_blank" rel="noopener"
>upgrade&lt;/a> command which includes persisting new Brew formulae to the &lt;code>Brewfile&lt;/code>.&lt;/p>
&lt;p>At the same time I have come to love applying &lt;a class="link" href="https://opengitops.dev/" target="_blank" rel="noopener"
>GitOps principles&lt;/a> to everything I work with.
Just the other day I was &lt;a class="link" href="https://github.com/jscheytt/dotfiles/commit/c4278a0b8bbe1f4875efd56ceffc43459d919d1f" target="_blank" rel="noopener"
>moving some commands&lt;/a> (in the vein of &amp;ldquo;global Git pull&amp;rdquo;) out of said &lt;code>upgrade&lt;/code> command into a cronjob.&lt;/p>
&lt;p>And then it hit me:
If I create a cronjob for running my Ansible playbook &lt;em>through the playbook itself&lt;/em>, I have GitOps-like reconciliation!&lt;/p>
&lt;p>Let&amp;rsquo;s do it in just a few lines of yaml:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Ensure dotfiles are applied&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cron&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Ensure dotfiles are applied&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">minute&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hour&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;9&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">weekday&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;1-5&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># on workdays&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">job&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">make -f &amp;#34;{{ ansible_env.PWD }}&amp;#34;/Makefile build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>The Story of My First Makefile — Half-Versioned Secrets Management</title><link>https://jscheytt.github.io/p/the-story-of-my-first-makefile-half-versioned-secrets-management/</link><pubDate>Mon, 06 Sep 2021 13:38:15 +0200</pubDate><guid>https://jscheytt.github.io/p/the-story-of-my-first-makefile-half-versioned-secrets-management/</guid><description>&lt;p>As a DevOps Engineer one key skill is &lt;strong>automating repetitive tasks&lt;/strong>.
What most people grab for intuitively is writing Shell scripts (be it Bash, zsh, fish or whichever flavor you prefer).
And there are a lot many good reasons to do so:&lt;/p>
&lt;ol>
&lt;li>It is closest to typing commands directly in the terminal.&lt;/li>
&lt;li>You don&amp;rsquo;t have to learn a dedicated programming language.&lt;/li>
&lt;li>It is very portable to other platforms like e.g. a CI server.&lt;/li>
&lt;/ol>
&lt;p>But once you start managing an increasing number of tasks with your scripts, you start to face another problem:
How do you &lt;em>manage your scripts&lt;/em>?&lt;/p>
&lt;p>Personally, I have always loved being able to enter some new place where &lt;strong>conventions&lt;/strong> were already in place.
It takes away so much work and mental effort at the beginning, and you can just get to work quickly.
(That might explain why I fell in love with ❤️ &lt;a class="link" href="https://rubyonrails.org/doctrine/#convention-over-configuration" target="_blank" rel="noopener"
>Ruby on Rails&lt;/a> before I dug into 💎 Ruby.)&lt;/p>
&lt;p>Shell scripts by their very nature do not pose any restrictions regarding e.g. naming patterns or directory structures.
Honestly, I think there never will be, and that is ok.
But what I have come to appreciate a lot recently is &lt;strong>&lt;a class="link" href="https://www.gnu.org/software/make/" target="_blank" rel="noopener"
>Make&lt;/a>&lt;/strong> as a &lt;strong>companion&lt;/strong> for my Shell scripts.&lt;/p>
&lt;h2 id="-make-vs--shell-in-a--nutshell">🏗 Make vs. 🐚 Shell in a 🥜 Nutshell
&lt;/h2>&lt;ul>
&lt;li>Purpose: Make is good at &lt;strong>creating files&lt;/strong>, Shell is good at &lt;strong>executing scripts&lt;/strong>.&lt;/li>
&lt;li>Portability: If your system has Bash, chances are pretty high that Make is also available.&lt;/li>
&lt;li>Developer API: Make has a &lt;strong>clear entrypoint&lt;/strong> (namely &lt;code>make&lt;/code>), Shell can be everything you want it to be.&lt;/li>
&lt;/ul>
&lt;p>Make is a tool that has its origin in the world of compiled languages, especially C.
Compiling source code into binary artifacts (and doing so 🏎 &lt;em>economically&lt;/em>) is what Make was originally designed for.
I mean, the name of a tool should make its use clear, but let me just state this again for my future self:
Make is meant to 🏗 make (create) files.&lt;/p>
&lt;p>&lt;strong>It&amp;rsquo;s all about target files.&lt;/strong>
That&amp;rsquo;s why it makes sense to approach a Makefile with a mindset of &amp;ldquo;What do I want to create/build?&amp;rdquo; instead of &amp;ldquo;What do I want to perform?&amp;rdquo;
To me this sounds very reminiscent of the distinction between &lt;em>declarative and imperative&lt;/em> programming.&lt;/p>
&lt;h2 id="safely-versioned-secrets-management">Safely Versioned Secrets Management
&lt;/h2>&lt;p>My concrete entrypoint into Make was the following use case I had lately, and it hopefully helps to illustrate the point of target files:&lt;/p>
&lt;ul>
&lt;li>☸️ You have 2 AWS accounts with 1 &lt;strong>Kubernetes&lt;/strong> cluster each.
(One is for running a dev and a staging environment, the other one is running the production environment.)&lt;/li>
&lt;li>🔑 Secrets are stored in AWS &lt;strong>Secrets Manager&lt;/strong> and synced into the cluster via &lt;a class="link" href="https://github.com/external-secrets/kubernetes-external-secrets" target="_blank" rel="noopener"
>ExternalSecrets&lt;/a>.&lt;/li>
&lt;li>⛔️ You are &lt;strong>not allowed&lt;/strong> to store secrets in Git, not even in encrypted form.&lt;/li>
&lt;li>🪣 The secrets are JSON files and the &lt;strong>key names&lt;/strong> are important, so you want to store them in Git.&lt;/li>
&lt;/ul>
&lt;p>What I did as a first step was to create sample secrets files that contained the keys but no valid data (kind of the &lt;em>schema&lt;/em> of the secrets):&lt;/p>
&lt;pre tabindex="0">&lt;code>secrets
├── dev # One directory per target environment
│   └── .keep
├── staging
│   └── .keep
├── prod
│   └── .keep
├── config1.sample.json # One sample file per secret
├── service2.sample.json
└── service3.sample.json
&lt;/code>&lt;/pre>&lt;p>I put the keys I needed into the sample files and as a value a description of what to put in (or e.g. from which Password Service to fetch the value from).
The file &lt;code>service2.sample.json&lt;/code> would e.g. look like this.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;EXTERNAL_API_KEY&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;API Key of EXTERNAL_SERVICE&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CLOUD_SERVICE_CLIENT_SECRET&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;client secret for accessing CLOUD_SERVICE&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CLOUD_SERVICE_PASSWORD&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;password for accessing CLOUD_SERVICE&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;BASIC_AUTH_PASSWORD&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;password for sending via Basic Auth&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The target structure I wanted to achieve was this:&lt;/p>
&lt;pre tabindex="0">&lt;code>secrets
├── dev
│   ├── config1.json # This file contains the *keys* of
│ │ # secrets/config1.sample.json
│ │ # and the actual secret *values*!
│   ├── service2.json
│   ├── service3.json
│   └── .keep
├── staging
│   ├── config1.json # Contains key of sample file and
│ │ # values for staging environment.
│   ├── service2.json
│   ├── service3.json
│   └── .keep
├── prod
│   ├── config1.json
│   ├── service2.json
│   ├── service3.json
│   └── .keep
├── config1.sample.json
├── service2.sample.json
└── service3.sample.json
&lt;/code>&lt;/pre>&lt;p>In order to not commit any actual secrets into version control, I added the following entries to my &lt;strong>.gitignore&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ignore secret data ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">secrets/**/*.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ... but keep the samples&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">!secrets/*.sample.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="copying-the-samples">Copying the Samples
&lt;/h3>&lt;p>Now how do you copy the files to all environment&amp;rsquo;s directories?
And how do you make sure you copy them &lt;em>exactly once&lt;/em> (so you don&amp;rsquo;t lose the secrets you already entered)?&lt;/p>
&lt;p>You could create a script with the following logic:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># For each environment directory:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## For each sample file:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### Extract the service name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### Check if target secret file already exists&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### If not, copy sample to target file&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>But now, 🏗 Make to the rescue:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="c">### Variables
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Fetch all sample files.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">secrets_samples&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">$(&lt;/span>wildcard secrets/*.sample.json&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Construct the paths for all dev secrets destinations.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">dev_secrets&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">$(&lt;/span>patsubst secrets/%.sample.json,secrets/dev/%.json,&lt;span class="k">$(&lt;/span>secrets_samples&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Construct the paths for all staging secrets destinations.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">staging_secrets&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">$(&lt;/span>patsubst secrets/dev/%,secrets/staging/%,&lt;span class="k">$(&lt;/span>dev_secrets&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Construct the paths for all staging secrets destinations.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">prod_secrets&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">$(&lt;/span>patsubst secrets/dev/%,secrets/prod/%,&lt;span class="k">$(&lt;/span>dev_secrets&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Gather the paths of all secrets&amp;#39; destinations.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">all_secrets&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">$(&lt;/span>dev_secrets&lt;span class="k">)&lt;/span> &lt;span class="k">$(&lt;/span>staging_secrets&lt;span class="k">)&lt;/span> &lt;span class="k">$(&lt;/span>prod_secrets&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">### Rules
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🎯 Purpose: &amp;#34;Copy all samples to their destinations.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🤓 What Make sees: &amp;#34;When you build the file secrets.copy-templates,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># make sure that all files in $(all_secrets) have been built first.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 👩‍🏫 Explanation: A rule can be empty, and a rule can have prerequisites
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># on the first line. I like to think of such a rule as a kind of shortcut.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets.copy-templates&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nv">all_secrets&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🎯 Purpose: &amp;#34;Ensure that Make still runs the job &amp;#39;secrets.copy-templates&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># even if a file called &amp;#39;secrets.copy-templates&amp;#39; is created.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🤓 What Make sees: &amp;#34;I am supposed to always build secrets.copy-templates
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># even if that file already exists.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">.PHONY&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>.&lt;span class="n">copy&lt;/span>-&lt;span class="n">templates&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🎯 Purpose: &amp;#34;Copy the file on the right to the file on the left.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 🤓 What Make sees: &amp;#34;When a file matching the pattern secrets/dev/(.*).json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># is built, execute this rule.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Also first make sure that the corresponding file secrets/$1.sample.json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># has been built before.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># And the rule is: Copy the source file on the right ($&amp;lt;) to the destination
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># file on the left ($@).&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 👩‍🏫 Explanation: These 3 rules are applied when you call secrets.copy-templates
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># because it requires $(all_secrets) to be built.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets/dev/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cp $&amp;lt; &lt;span class="nv">$@&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">secrets/staging/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cp $&amp;lt; &lt;span class="nv">$@&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">secrets/prod/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cp $&amp;lt; &lt;span class="nv">$@&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you now execute &lt;code>make secrets.copy-templates&lt;/code>, the sample files will be copied to all environment directories.
And if you run that same command again, 🙊 &lt;strong>Make will not copy anything&lt;/strong> because it intelligenty detected that the source files have not changed since the last execution.&lt;/p>
&lt;p>The code above is certainly not optimal - I bet you could abstract away the environment names with bit of metaprogramming, but let&amp;rsquo;s not optimize prematurely.
I think the result is already impressive, especially if you consider the following:&lt;/p>
&lt;ul>
&lt;li>☝️ You don&amp;rsquo;t even have to call the job explicitly to run it.
As long as &lt;code>secrets.copy-templates&lt;/code> is the first build defined in the Makefile, you can even execute just &lt;code>make&lt;/code> &lt;em>without any parameters&lt;/em>.&lt;/li>
&lt;li>👨‍💻 Onboarding a new colleague to your repository now sounds a lot more like:
&amp;ldquo;Yes, do read the README, but above all execute &lt;code>make&lt;/code>.&amp;rdquo;
&lt;ul>
&lt;li>⛑ This is especially true if your Makefile contains &lt;strong>&lt;a class="link" href="https://marmelab.com/blog/2016/02/29/auto-documented-makefile.html" target="_blank" rel="noopener"
>good help texts&lt;/a>&lt;/strong> for every rule.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="how-not-to-shoot-yourself-in-the-foot">How Not To Shoot Yourself in the Foot
&lt;/h4>&lt;p>Make was made primarily for building binaries from source code.
The fact that we are able to use it in the way described above comes with a warning:
If you do the following, you will lose the secret data you already entered into the secret files:&lt;/p>
&lt;ol>
&lt;li>Execute &lt;code>make secrets.copy-templates&lt;/code>.&lt;/li>
&lt;li>Edit a &lt;strong>sample file&lt;/strong>.&lt;/li>
&lt;li>Execute &lt;code>make secrets.copy-templates&lt;/code>.&lt;/li>
&lt;li>💥 Make will &lt;strong>copy and overwrite&lt;/strong> the edited sample file to all environment secret files.&lt;/li>
&lt;/ol>
&lt;p>Why?
Make compares timestamps, and when the source has a newer last-modified timestamp than the destination it will execute the rule&lt;/p>
&lt;p>Can we circumvent this?
We sure can.
You can either make sure that you edit each environment file after editing the sample file.
Or you change the last-modified timestamp &lt;strong>via a build&lt;/strong> in the Makefile 😉:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">secrets.ensure-copy-once&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> f in &lt;span class="k">$(&lt;/span>all_secrets&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="nv">$$&lt;/span>f &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> touch &lt;span class="nv">$$&lt;/span>f&lt;span class="p">;&lt;/span> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now whenever you edit a sample file &lt;em>after the initial secrets.copy-templates&lt;/em> you run this build via &lt;code>make secrets.ensure-copy-once&lt;/code> and 🛡 your secrets will not be deleted.&lt;/p>
&lt;h3 id="extension-environment-specific-sample-files">Extension: Environment-specific Sample Files
&lt;/h3>&lt;p>One implicit assumption in my structure was that the secrets in service2 will always have the same schema &lt;strong>in every environment&lt;/strong>.
One day it so happened that service2 needed to have additional keys on prod, but they &lt;strong>should not be present&lt;/strong> on dev or staging.&lt;/p>
&lt;p>I adjusted my desired structure like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>secrets
├── dev
│   ├── config1.json
│   ├── service2.json # Contains keys from service2.sample.json
│   ├── service3.json
│   └── .keep
├── staging
│   ├── config1.json
│   ├── service2.json # Contains keys from service2.sample.json
│   ├── service3.json
│   └── .keep
├── prod
│   ├── config1.json
│   ├── service2.json # Contains keys from service2.sample.prod.json
│   ├── service3.json
│   └── .keep
├── config1.sample.json
├── service2.sample.json # Default sample file
├── service2.sample.prod.json # Prod-specific sample file
└── service3.sample.json
&lt;/code>&lt;/pre>&lt;p>And I wrote my first &lt;strong>Makefile function&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># A Make function can take in an arbitrary number of numbered parameters.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="err">define&lt;/span> &lt;span class="err">copy_template&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">cp&lt;/span> &lt;span class="k">$(&lt;/span>1&lt;span class="k">)&lt;/span> &lt;span class="k">$(&lt;/span>2&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="c"># Check if there is a more environment-specific sample file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">eval&lt;/span> ENVIRONMENT :&lt;span class="o">=&lt;/span> &lt;span class="k">$(&lt;/span>shell &lt;span class="nb">echo&lt;/span> &lt;span class="k">$(&lt;/span>2&lt;span class="k">)&lt;/span> &lt;span class="p">|&lt;/span> sed -E &lt;span class="s1">&amp;#39;s#secrets/(.*)/.*#\1#&amp;#39;&lt;/span>&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>&lt;span class="nb">eval&lt;/span> ENVIRONMENT_SAMPLE_FILE :&lt;span class="o">=&lt;/span> &lt;span class="k">$(&lt;/span>patsubst %.sample.json,%.sample.&lt;span class="k">$(&lt;/span>ENVIRONMENT&lt;span class="k">)&lt;/span>.json,&lt;span class="k">$(&lt;/span>1&lt;span class="k">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @# If environment-specific file exists, copy it to destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>ENVIRONMENT_SAMPLE_FILE&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> cp &lt;span class="k">$(&lt;/span>ENVIRONMENT_SAMPLE_FILE&lt;span class="k">)&lt;/span> &lt;span class="k">$(&lt;/span>2&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">endef&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Calling a Make function works by executing &amp;#39;call&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># with the function name and all its parameters as a list.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># My previous rules now became this:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets/dev/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>call copy_template,$&amp;lt;,&lt;span class="nv">$@&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">secrets/staging/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>call copy_template,$&amp;lt;,&lt;span class="nv">$@&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">secrets/prod/%.json&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">secrets&lt;/span>/%.&lt;span class="n">sample&lt;/span>.&lt;span class="n">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>call copy_template,$&amp;lt;,&lt;span class="nv">$@&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="-perfect-symphony-calling-scripts-from-make">🍣 Perfect Symphony: Calling Scripts From Make
&lt;/h3>&lt;p>It&amp;rsquo;s all good and nice to have your secrets created, but how do you deploy them to AWS Secrets Manager?
Of course you write a thin wrapper around the wonderfully verbose AWS CLI:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/usr/bin/env bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">set&lt;/span> -euo pipefail
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># set -x # DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">secret_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Use second argument or read stdin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">secret_value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">2&lt;/span>&lt;span class="k">:-$(&lt;/span>cat -&lt;span class="k">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$secret_value&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="c1"># DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create secret in idempotent way, avoid script from failing&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> +e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">aws secretsmanager create-secret --name &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$secret_name&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">&amp;amp;&lt;/span>&amp;gt; /dev/null
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> -e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Put secret value and output response to stdout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">aws secretsmanager put-secret-value --secret-id &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$secret_name&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --secret-string &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$secret_value&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> cat
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In your terminal you would call it e.g. like this:&lt;br>
&lt;code>./helpers/deploy-secret.sh envs/dev/config1-secrets &amp;lt; secrets/dev/config1.json&lt;/code>&lt;/p>
&lt;p>Let&amp;rsquo;s make a generic rule in Make to execute this script:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># The dependency on $(all_secrets) is to make sure that the secrets files exist
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># before deploying them.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secret.deploy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nv">all_secrets&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ./helpers/deploy-secret.sh &lt;span class="k">$(&lt;/span>name&lt;span class="k">)&lt;/span> &amp;lt; secrets/&lt;span class="k">$(&lt;/span>environment&lt;span class="k">)&lt;/span>/&lt;span class="k">$(&lt;/span>filename&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The call to the script that you executed above would become this:&lt;br>
&lt;code>make secret.deploy name=envs/dev/config1-secrets environment=dev filename=config1&lt;/code>&lt;/p>
&lt;p>As we have multiple services, let&amp;rsquo;s add one rule per service:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># The secret values in this one are the same across all environments
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secret.deploy.config1&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>envs/config1-secrets &lt;span class="nv">filename&lt;/span>&lt;span class="o">=&lt;/span>config1.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># service2 has different secret values on the different environments
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secret.deploy.service2&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>envs/&lt;span class="k">$(&lt;/span>environment&lt;span class="k">)&lt;/span>/service2-secrets &lt;span class="nv">filename&lt;/span>&lt;span class="o">=&lt;/span>service2.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># service 3 also has environment-specific secret values
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secret.deploy.service3&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>envs/&lt;span class="k">$(&lt;/span>environment&lt;span class="k">)&lt;/span>/service3-secrets &lt;span class="nv">filename&lt;/span>&lt;span class="o">=&lt;/span>service3.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now we can tie these together into one rule for a whole environment:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-make" data-lang="make">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Deploy all secrets for one environment
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets.deploy.all&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy.config1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy.service2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secret.deploy.service3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Deploy all secrets for the dev cluster
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets.deploy.dev&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secrets.deploy.all &lt;span class="nv">environment&lt;/span>&lt;span class="o">=&lt;/span>dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secrets.deploy.all &lt;span class="nv">environment&lt;/span>&lt;span class="o">=&lt;/span>staging
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Deploy all secrets for the prod cluster
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nf">secrets.deploy.prod&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">$(&lt;/span>MAKE&lt;span class="k">)&lt;/span> secrets.deploy.all &lt;span class="nv">environment&lt;/span>&lt;span class="o">=&lt;/span>prod
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>✅ Once you are authenticated to the corresponding AWS account, you can deploy your secrets with either &lt;code>make secrets.deploy.dev&lt;/code> or &lt;code>make secrets.deploy.prod&lt;/code>.&lt;/p>
&lt;h2 id="summarizing">Summarizing
&lt;/h2>&lt;ul>
&lt;li>Make gives you a consistent and clean Developer API.&lt;/li>
&lt;li>Make is almost universally installed everywhere.&lt;/li>
&lt;li>Don&amp;rsquo;t decide between either Make &lt;strong>or&lt;/strong> Shell - use both together.
Refactor more complex logic into separate Shell scripts (like isolated functions) which are called from within Make.&lt;/li>
&lt;/ul>
&lt;p>You can check out the entire Makefile (including the secrets structure and scripts) in this &lt;a class="link" href="https://github.com/jscheytt/jscheytt.github.io.hugo/tree/main/content/post/story-first-makefile" target="_blank" rel="noopener"
>Git repo&lt;/a>.&lt;/p>
&lt;h2 id="credits">Credits
&lt;/h2>&lt;p>I am indebted to the following parties in making my start into the world of Make a lot smoother than I expected:&lt;/p>
&lt;ul>
&lt;li>Isaac Z. Schlueter for his &lt;a class="link" href="https://gist.github.com/isaacs/62a2d1825d04437c6f08" target="_blank" rel="noopener"
>interactive Gist&lt;/a>&lt;/li>
&lt;li>The guys at &lt;a class="link" href="https://www.upbound.io/" target="_blank" rel="noopener"
>Upbound&lt;/a> for creating &lt;a class="link" href="https://crossplane.io/" target="_blank" rel="noopener"
>Crossplane&lt;/a> where they use Make in &lt;a class="link" href="https://github.com/crossplane/provider-aws" target="_blank" rel="noopener"
>their providers&lt;/a> and even distribute &lt;a class="link" href="https://github.com/upbound/build" target="_blank" rel="noopener"
>common functionality&lt;/a> as a Git submodule&lt;/li>
&lt;/ul></description></item></channel></rss>